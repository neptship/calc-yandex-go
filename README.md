# сalc-yandex-go

Cервис на Go для вычисления арифметических выражений. Сервис принимает математические выражения через POST-запросы и возвращает вычисленные результаты.

## Функциональность

- Эндпоинт для арифметических вычислений
- Поддержка базовых арифметических операций (+, -, *, /)
- Поддержка скобок для управления порядком операций
- Формат обмена данными JSON
- Обработка ошибок с соответствующими HTTP-кодами

## API Спецификация

### POST /api/v1/calculate

Вычисляет предоставленное арифметическое выражение.

**Формат запроса:**
```json
{
    "expression": "2+2*2"
}
```

**Успешный ответ (200 OK):**
```json
{
    "result": "6"
}
```

**Ответ при некорректном выражении (422 Unprocessable Entity):**
```json
{
    "error": "invalid expression"
}
```

**Ответ при внутренней ошибке сервера (500 Internal Server Error):**
```json
{
    "error": "internal server error"
}
```

## Установка и запуск

1. Склонируйте репозиторий:
```bash
git clone https://github.com/neptship/calc-yandex-go
```

2. Перейдите в директорию проекта:
```bash
cd calc-yandex-go
```

3. Запустите сервис:
```bash
go run cmd/main.go
```

## Примеры использования

### Успешное вычисление
```bash
curl --location 'http://localhost:8080/api/v1/calculate' \
--header 'Content-Type: application/json' \
--data '{
    "expression": "2+2*2"
}'
```

Ответ:
```json
{
    "result": "6"
}
```

### Некорректное выражение
```bash
curl --location 'http://localhost:8080/api/v1/calculate' \
--header 'Content-Type: application/json' \
--data '{
    "expression": "2+2ё"
}'
```

Ответ:
```json
{
    "error": "invalid character"
}
```


## Требования

- Установленный Go (версия 1.16 или выше)

## Ограничения

- Поддерживаются только положительные целые числа
- Использование унарного минуса или плюса приведет к некорректной работе
- Поддерживаются только POST-запросы
- Все нестандартные символы в выражении (буквы, спецсимволы) приведут к ошибке 422

## Рекомендации по тестированию

- Рекомендуется использовать Postman для тестирования API, так как с curl могут возникнуть проблемы
- При использовании curl рекомендуется выполнять запросы через git bash терминал